<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FloatSpace | Your Floating Workspace</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; background-color: #f8f9fa; color: #202124; }
        .card { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); text-align: center; max-width: 400px; }
        h1 { margin-bottom: 0.5rem; letter-spacing: -0.5px; }
        p { color: #5f6368; line-height: 1.5; margin-bottom: 2rem; }
        .btn-google { background: #1a73e8; color: white; padding: 12px 24px; border-radius: 6px; text-decoration: none; font-weight: 500; display: inline-block; margin-bottom: 1rem; }
        .bookmarklet { display: inline-block; padding: 10px 20px; background: #e8eaed; color: #3c4043; border-radius: 6px; text-decoration: none; font-size: 14px; font-weight: 500; border: 1px solid #dadce0; cursor: move; }
        .hint { font-size: 12px; color: #70757a; margin-top: 10px; }
    </style>
</head>
<body>

<div class="card">
    <h1>FLOATSPACE</h1>
    <p>Your workspace, everywhere. Log in to sync your rooms and contacts.</p>
    
    <a href="#" id="login-btn" class="btn-google">Sign in with Google</a>

    <div style="margin: 20px 0; border-top: 1px solid #eee;"></div>

    <p style="margin-bottom: 10px;"><strong>Install:</strong> Drag this to your bar</p>
    <a class="bookmarklet" href="javascript:(function(){var s=document.createElement('script');s.src='https://app.floatspace.org/calc.js?t='+Date.now();document.body.appendChild(s);})();">ðŸš€ FloatSpace</a>
    <div class="hint">Works on Chrome & Safari</div>
</div>

<script>
    // CRITICAL: This must match your Google Cloud Console exactly!
    const CLIENT_ID = '380608670566-4e56idp7q9305t5u7f8v1eia6k668j8v.apps.googleusercontent.com';
    const REDIRECT_URI = 'https://app.floatspace.org/';

    document.getElementById('login-btn').onclick = function() {
        const authUrl = `https://accounts.google.com/o/oauth2/v2/auth?client_id=${CLIENT_ID}&redirect_uri=${encodeURIComponent(REDIRECT_URI)}&response_type=token&scope=email%20profile`;
        window.location.href = authUrl;
    };

    // Simple logic to catch the token after login
    if (window.location.hash) {
        const params = new URLSearchParams(window.location.hash.substring(1));
        const token = params.get('access_token');
        if (token) {
            alert('Logged in! You can now use the FloatSpace bookmarklet.');
            // In the future, we will send this to your Google Apps Script backend
        }
    }
</script>

</body>
</html>
